traits:
    Context
        fn register(Node)

    Molecule/Block
        name
        - supplies context
        
Structural Element
      - Chapter
      - Section
        context: Chapter
        draw("Section $counter")
    
    attr prev : Some(Node)
    fn title()
    counter := (prev ref. or 0), add +1
    TOC ref
    
Content
  - Paragraph
  - Poem
  - Math
  - Figure

Stream
  - Word
  - Inline Math

:chapter A
    :section foo
        $ 1 + 1 = 2 $ (eq. 1)
        context: chapter

